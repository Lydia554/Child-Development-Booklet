{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      children: [],\n      selectedChildId: null\n    };\n  },\n  computed: {\n    selectedChild() {\n      return this.children.find(child => child._id === this.selectedChildId);\n    }\n  },\n  async created() {\n    await this.fetchChildren();\n  },\n  methods: {\n    async fetchChildren() {\n      try {\n        const token = sessionStorage.getItem('token');\n        const response = await axios.get('http://localhost:5000/api/children', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        this.children = response.data;\n      } catch (error) {\n        console.error('Error fetching children:', error);\n      }\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleDateString('sr-RS');\n    },\n    calculateAge(birthDate) {\n      const birth = new Date(birthDate);\n      const now = new Date();\n      const months = (now.getFullYear() - birth.getFullYear()) * 12 + (now.getMonth() - birth.getMonth());\n      if (months < 12) {\n        return `${months} meseci`;\n      } else {\n        const years = Math.floor(months / 12);\n        const remainingMonths = months % 12;\n        return `${years} ${years === 1 ? 'godina' : 'godine'} i ${remainingMonths} meseci`;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","children","selectedChildId","computed","selectedChild","find","child","_id","created","fetchChildren","methods","token","sessionStorage","getItem","response","get","headers","Authorization","error","console","formatDate","date","Date","toLocaleDateString","calculateAge","birthDate","birth","now","months","getFullYear","getMonth","years","Math","floor","remainingMonths"],"sources":["C:\\Users\\goldb\\Pro\\Project\\basic-booklet\\frontend\\src\\components\\ChildOverview.vue"],"sourcesContent":["<template>\r\n  <div class=\"child-selection-container\">\r\n    <h2 class=\"title\">Pregled sve Djece</h2>\r\n    <div class=\"select-container\">\r\n      <select v-model=\"selectedChildId\" class=\"child-select\">\r\n        <option value=\"\">Izaberite dete</option>\r\n        <option v-for=\"child in children\" \r\n                :key=\"child._id\" \r\n                :value=\"child._id\">\r\n          {{ child.name }}\r\n        </option>\r\n      </select>\r\n    </div>\r\n\r\n    <div v-if=\"selectedChild\" class=\"child-info\">\r\n      <p><strong>Ime:</strong> {{ selectedChild.name }}</p>\r\n      <p><strong>Datum rođenja:</strong> {{ formatDate(selectedChild.birthDate) }}</p>\r\n      <p><strong>Uzrast:</strong> {{ calculateAge(selectedChild.birthDate) }}</p>\r\n    </div>\r\n\r\n    <div v-if=\"selectedChildId\" class=\"links-container\">\r\n      <router-link :to=\"`/milestone-form/${selectedChildId}`\" class=\"link\">\r\n        Dodaj Ključni Momenat\r\n      </router-link>\r\n      <router-link :to=\"`/milestone-list/${selectedChildId}`\" class=\"link\">\r\n        Pregled Ključnih Momenata\r\n      </router-link>\r\n      <router-link :to=\"`/child-development/${selectedChildId}`\" class=\"link\">\r\n        Unos Razvoja\r\n      </router-link>\r\n      <router-link :to=\"`/child-development-list/${selectedChildId}`\" class=\"link\">\r\n        Pregled Razvoja\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      children: [], \r\n      selectedChildId: null,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    selectedChild() {\r\n      return this.children.find(child => child._id === this.selectedChildId);\r\n    }\r\n  },\r\n\r\n  async created() {\r\n    await this.fetchChildren();\r\n  },\r\n\r\n  methods: {\r\n    async fetchChildren() {\r\n      try {\r\n        const token = sessionStorage.getItem('token');\r\n        const response = await axios.get('http://localhost:5000/api/children', {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        this.children = response.data;\r\n      } catch (error) {\r\n        console.error('Error fetching children:', error);\r\n      }\r\n    },\r\n\r\n    formatDate(date) {\r\n      return new Date(date).toLocaleDateString('sr-RS');\r\n    },\r\n\r\n    calculateAge(birthDate) {\r\n      const birth = new Date(birthDate);\r\n      const now = new Date();\r\n      const months = (now.getFullYear() - birth.getFullYear()) * 12 + \r\n                    (now.getMonth() - birth.getMonth());\r\n      \r\n      if (months < 12) {\r\n        return `${months} meseci`;\r\n      } else {\r\n        const years = Math.floor(months / 12);\r\n        const remainingMonths = months % 12;\r\n        return `${years} ${years === 1 ? 'godina' : 'godine'} i ${remainingMonths} meseci`;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.child-selection-container {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n\r\n  .title {\r\n    text-align: center;\r\n    font-size: 24px;\r\n    color: #333;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  .select-container {\r\n    margin-bottom: 20px;\r\n\r\n    .child-select {\r\n      width: 100%;\r\n      padding: 12px;\r\n      font-size: 16px;\r\n      border-radius: 4px;\r\n      border: 1px solid #ccc;\r\n      background-color: #fff;\r\n      color: #333;\r\n      outline: none;\r\n      \r\n      &:focus {\r\n        border-color: #007bff;\r\n      }\r\n    }\r\n  }\r\n\r\n  .child-info {\r\n    background-color: #fff;\r\n    padding: 15px;\r\n    border-radius: 4px;\r\n    margin-bottom: 20px;\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\r\n\r\n    p {\r\n      margin: 8px 0;\r\n      color: #666;\r\n\r\n      strong {\r\n        color: #333;\r\n      }\r\n    }\r\n  }\r\n\r\n  .links-container {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    gap: 15px;\r\n    margin-top: 20px;\r\n\r\n    .link {\r\n      padding: 12px;\r\n      color: #fff;\r\n      background-color: #007bff;\r\n      text-decoration: none;\r\n      text-align: center;\r\n      border-radius: 4px;\r\n      transition: all 0.3s ease;\r\n\r\n      &:hover {\r\n        background-color: #0056b3;\r\n        transform: translateY(-2px);\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n  "],"mappings":";;AAsCA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,eAAe,EAAE;IACnB,CAAC;EACH,CAAC;EAEDC,QAAQ,EAAE;IACRC,aAAaA,CAAA,EAAG;MACd,OAAO,IAAI,CAACH,QAAQ,CAACI,IAAI,CAACC,KAAI,IAAKA,KAAK,CAACC,GAAE,KAAM,IAAI,CAACL,eAAe,CAAC;IACxE;EACF,CAAC;EAED,MAAMM,OAAOA,CAAA,EAAG;IACd,MAAM,IAAI,CAACC,aAAa,CAAC,CAAC;EAC5B,CAAC;EAEDC,OAAO,EAAE;IACP,MAAMD,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAME,KAAI,GAAIC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;QAC7C,MAAMC,QAAO,GAAI,MAAMf,KAAK,CAACgB,GAAG,CAAC,oCAAoC,EAAE;UACrEC,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUN,KAAK;UAAG;QAC9C,CAAC,CAAC;QACF,IAAI,CAACV,QAAO,GAAIa,QAAQ,CAACd,IAAI;MAC/B,EAAE,OAAOkB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAClD;IACF,CAAC;IAEDE,UAAUA,CAACC,IAAI,EAAE;MACf,OAAO,IAAIC,IAAI,CAACD,IAAI,CAAC,CAACE,kBAAkB,CAAC,OAAO,CAAC;IACnD,CAAC;IAEDC,YAAYA,CAACC,SAAS,EAAE;MACtB,MAAMC,KAAI,GAAI,IAAIJ,IAAI,CAACG,SAAS,CAAC;MACjC,MAAME,GAAE,GAAI,IAAIL,IAAI,CAAC,CAAC;MACtB,MAAMM,MAAK,GAAI,CAACD,GAAG,CAACE,WAAW,CAAC,IAAIH,KAAK,CAACG,WAAW,CAAC,CAAC,IAAI,EAAC,IAC7CF,GAAG,CAACG,QAAQ,CAAC,IAAIJ,KAAK,CAACI,QAAQ,CAAC,CAAC,CAAC;MAEjD,IAAIF,MAAK,GAAI,EAAE,EAAE;QACf,OAAO,GAAGA,MAAM,SAAS;MAC3B,OAAO;QACL,MAAMG,KAAI,GAAIC,IAAI,CAACC,KAAK,CAACL,MAAK,GAAI,EAAE,CAAC;QACrC,MAAMM,eAAc,GAAIN,MAAK,GAAI,EAAE;QACnC,OAAO,GAAGG,KAAK,IAAIA,KAAI,KAAM,IAAI,QAAO,GAAI,QAAQ,MAAMG,eAAe,SAAS;MACpF;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}