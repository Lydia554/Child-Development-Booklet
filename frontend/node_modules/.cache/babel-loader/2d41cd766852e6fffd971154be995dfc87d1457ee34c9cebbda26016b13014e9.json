{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = [\"onClick\"];\nconst _hoisted_2 = [\"onClick\"];\nconst _hoisted_3 = {\n  type: \"submit\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[6] || (_cache[6] = _createElementVNode(\"h2\", null, \"Lista Milestone-ova\", -1 /* HOISTED */)), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.milestones, milestone => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: milestone._id\n    }, [_createElementVNode(\"strong\", null, _toDisplayString(milestone.milestoneType), 1 /* TEXT */), _createTextVNode(\" - \" + _toDisplayString(milestone.milestoneDate) + \" \", 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.editMilestone(milestone)\n    }, \"Izmeni\", 8 /* PROPS */, _hoisted_1), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteMilestone(milestone._id)\n    }, \"Obriši\", 8 /* PROPS */, _hoisted_2)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"h3\", null, _toDisplayString($data.isEditing ? 'Izmeni Milestone' : 'Dodaj Milestone'), 1 /* TEXT */), _createElementVNode(\"form\", {\n    onSubmit: _cache[5] || (_cache[5] = _withModifiers($event => $data.isEditing ? $options.updateMilestone() : $options.submitMilestone(), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.newMilestone.milestoneType = $event),\n    placeholder: \"Tip Milestone-a\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newMilestone.milestoneType]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.newMilestone.milestoneDate = $event),\n    type: \"date\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newMilestone.milestoneDate]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.newMilestone.progress = $event),\n    placeholder: \"Napredak\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newMilestone.progress]]), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.newMilestone.notes = $event),\n    placeholder: \"Beleške\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newMilestone.notes]]), _createElementVNode(\"button\", _hoisted_3, _toDisplayString($data.isEditing ? 'Sačuvaj izmene' : 'Dodaj'), 1 /* TEXT */), $data.isEditing ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.resetForm && $options.resetForm(...args))\n  }, \"Otkaži\")) : _createCommentVNode(\"v-if\", true)], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["type","_createElementBlock","_createElementVNode","_Fragment","_renderList","$data","milestones","milestone","key","_id","_toDisplayString","milestoneType","_createTextVNode","milestoneDate","onClick","$event","$options","editMilestone","_hoisted_1","deleteMilestone","_hoisted_2","isEditing","onSubmit","_cache","_withModifiers","updateMilestone","submitMilestone","newMilestone","placeholder","required","progress","notes","_hoisted_3","args","resetForm","_createCommentVNode"],"sources":["C:\\Users\\goldb\\Pro\\Project\\basic-booklet\\frontend\\src\\components\\MilestoneList.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Lista Milestone-ova</h2>\r\n    <ul>\r\n      <li v-for=\"milestone in milestones\" :key=\"milestone._id\">\r\n        <strong>{{ milestone.milestoneType }}</strong> - {{ milestone.milestoneDate }}\r\n        <button @click=\"editMilestone(milestone)\">Izmeni</button>\r\n        <button @click=\"deleteMilestone(milestone._id)\">Obriši</button>\r\n      </li>\r\n    </ul>\r\n    \r\n    <h3>{{ isEditing ? 'Izmeni Milestone' : 'Dodaj Milestone' }}</h3>\r\n    <form @submit.prevent=\"isEditing ? updateMilestone() : submitMilestone()\">\r\n      <input v-model=\"newMilestone.milestoneType\" placeholder=\"Tip Milestone-a\" required />\r\n      <input v-model=\"newMilestone.milestoneDate\" type=\"date\" required />\r\n      <input v-model=\"newMilestone.progress\" placeholder=\"Napredak\" required />\r\n      <textarea v-model=\"newMilestone.notes\" placeholder=\"Beleške\"></textarea>\r\n      <button type=\"submit\">{{ isEditing ? 'Sačuvaj izmene' : 'Dodaj' }}</button>\r\n      <button v-if=\"isEditing\" @click=\"resetForm\">Otkaži</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '../axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      milestones: [],\r\n      newMilestone: {\r\n        milestoneType: '',\r\n        milestoneDate: '',\r\n        progress: '',\r\n        notes: '',\r\n      },\r\n      isEditing: false,\r\n    };\r\n  },\r\n  async created() {\r\n    await this.fetchMilestones();\r\n  },\r\n  methods: {\r\n    async fetchMilestones() {\r\n      try {\r\n        const response = await api.get('/milestones');\r\n        this.milestones = response.data;\r\n      } catch (error) {\r\n        console.error('Greška pri dohvatanju milestone-ova:', error);\r\n      }\r\n    },\r\n    async submitMilestone() {\r\n      try {\r\n        const response = await api.post('/milestones', this.newMilestone);\r\n        this.milestones.push(response.data);\r\n        this.resetForm();\r\n      } catch (error) {\r\n        console.error('Greška prilikom dodavanja milestone-a:', error);\r\n      }\r\n    },\r\n    async updateMilestone() {\r\n      try {\r\n        await api.put(`/milestones/${this.newMilestone._id}`, this.newMilestone);\r\n        const index = this.milestones.findIndex(m => m._id === this.newMilestone._id);\r\n        if (index !== -1) {\r\n          this.milestones.splice(index, 1, this.newMilestone);\r\n        }\r\n        this.resetForm();\r\n      } catch (error) {\r\n        console.error('Greška prilikom ažuriranja milestone-a:', error);\r\n      }\r\n    },\r\n    async deleteMilestone(id) {\r\n      try {\r\n        await api.delete(`/milestones/${id}`);\r\n        this.milestones = this.milestones.filter(m => m._id !== id);\r\n      } catch (error) {\r\n        console.error('Greška prilikom brisanja milestone-a:', error);\r\n      }\r\n    },\r\n    editMilestone(milestone) {\r\n      this.newMilestone = { ...milestone };\r\n      this.isEditing = true;\r\n    },\r\n    resetForm() {\r\n      this.newMilestone = { milestoneType: '', milestoneDate: '', progress: '', notes: '' };\r\n      this.isEditing = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":";mBAAA;mBAAA;;EAiBcA,IAAI,EAAC;AAAQ;;uBAhBzBC,mBAAA,CAmBM,c,0BAlBJC,mBAAA,CAA4B,YAAxB,qBAAmB,sBACvBA,mBAAA,CAMK,c,kBALHD,mBAAA,CAIKE,SAAA,QARXC,WAAA,CAI8BC,KAAA,CAAAC,UAAU,EAAvBC,SAAS;yBAApBN,mBAAA,CAIK;MAJgCO,GAAG,EAAED,SAAS,CAACE;QAClDP,mBAAA,CAA8C,gBAAAQ,gBAAA,CAAnCH,SAAS,CAACI,aAAa,kBAL1CC,gBAAA,CAKsD,KAAG,GAAAF,gBAAA,CAAGH,SAAS,CAACM,aAAa,IAAG,GAC9E,iBAAAX,mBAAA,CAAyD;MAAhDY,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,aAAa,CAACV,SAAS;OAAG,QAAM,iBANxDW,UAAA,GAOQhB,mBAAA,CAA+D;MAAtDY,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAG,eAAe,CAACZ,SAAS,CAACE,GAAG;OAAG,QAAM,iBAP9DW,UAAA,E;oCAWIlB,mBAAA,CAAiE,YAAAQ,gBAAA,CAA1DL,KAAA,CAAAgB,SAAS,2DAChBnB,mBAAA,CAOO;IAPAoB,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAZjBC,cAAA,CAAAT,MAAA,IAY2BV,KAAA,CAAAgB,SAAS,GAAGL,QAAA,CAAAS,eAAe,KAAKT,QAAA,CAAAU,eAAe;sBACpExB,mBAAA,CAAqF;IAb3F,uBAAAqB,MAAA,QAAAA,MAAA,MAAAR,MAAA,IAasBV,KAAA,CAAAsB,YAAY,CAAChB,aAAa,GAAAI,MAAA;IAAEa,WAAW,EAAC,iBAAiB;IAACC,QAAQ,EAAR;iDAA1DxB,KAAA,CAAAsB,YAAY,CAAChB,aAAa,E,mBAC1CT,mBAAA,CAAmE;IAdzE,uBAAAqB,MAAA,QAAAA,MAAA,MAAAR,MAAA,IAcsBV,KAAA,CAAAsB,YAAY,CAACd,aAAa,GAAAE,MAAA;IAAEf,IAAI,EAAC,MAAM;IAAC6B,QAAQ,EAAR;iDAAxCxB,KAAA,CAAAsB,YAAY,CAACd,aAAa,E,mBAC1CX,mBAAA,CAAyE;IAf/E,uBAAAqB,MAAA,QAAAA,MAAA,MAAAR,MAAA,IAesBV,KAAA,CAAAsB,YAAY,CAACG,QAAQ,GAAAf,MAAA;IAAEa,WAAW,EAAC,UAAU;IAACC,QAAQ,EAAR;iDAA9CxB,KAAA,CAAAsB,YAAY,CAACG,QAAQ,E,mBACrC5B,mBAAA,CAAwE;IAhB9E,uBAAAqB,MAAA,QAAAA,MAAA,MAAAR,MAAA,IAgByBV,KAAA,CAAAsB,YAAY,CAACI,KAAK,GAAAhB,MAAA;IAAEa,WAAW,EAAC;iDAAhCvB,KAAA,CAAAsB,YAAY,CAACI,KAAK,E,GACrC7B,mBAAA,CAA2E,UAA3E8B,UAA2E,EAAAtB,gBAAA,CAAlDL,KAAA,CAAAgB,SAAS,+CACpBhB,KAAA,CAAAgB,SAAS,I,cAAvBpB,mBAAA,CAA2D;IAlBjEO,GAAA;IAkBgCM,OAAK,EAAAS,MAAA,QAAAA,MAAA,UAAAU,IAAA,KAAEjB,QAAA,CAAAkB,SAAA,IAAAlB,QAAA,CAAAkB,SAAA,IAAAD,IAAA,CAAS;KAAE,QAAM,KAlBxDE,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}