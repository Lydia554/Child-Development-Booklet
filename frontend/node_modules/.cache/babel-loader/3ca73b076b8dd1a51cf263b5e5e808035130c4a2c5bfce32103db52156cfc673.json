{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useAuthStore } from './stores/authStore';\nimport { useRouter } from 'vue-router';\nexport default {\n  setup() {\n    const authStore = useAuthStore();\n    const router = useRouter();\n    authStore.checkAuth(); // Check if the user is authenticated\n\n    // Retrieve childId from localStorage if available\n    const childId = localStorage.getItem('childId');\n\n    // Ensure we have a valid childId\n    if (!childId) {\n      console.log('No childId found in localStorage');\n    }\n    const logout = () => {\n      authStore.logout();\n      router.push('/login');\n    };\n    return {\n      authStore,\n      logout,\n      childId\n    }; // Ensure childId is available in the template\n  }\n};","map":{"version":3,"names":["useAuthStore","useRouter","setup","authStore","router","checkAuth","childId","localStorage","getItem","console","log","logout","push"],"sources":["C:\\Users\\goldb\\Pro\\Project\\basic-booklet\\frontend\\src\\App.vue"],"sourcesContent":["<template>\n  <div>\n    <nav>\n      <!-- Links only visible when the user is authenticated -->\n      <router-link v-if=\"authStore.isAuthenticated\" :to=\"`/child-registration`\">Registracija deteta</router-link>\n      \n      <!-- Show child-specific links only if childId is available -->\n      <router-link v-if=\"authStore.isAuthenticated && childId\" :to=\"`/milestone-form/${childId}`\">Dodaj Milestone</router-link>\n      <router-link v-if=\"authStore.isAuthenticated && childId\" :to=\"`/milestone-list/${childId}`\">Pregled Milestone-a</router-link>\n      <router-link v-if=\"authStore.isAuthenticated && childId\" :to=\"`/child-development-form/${childId}`\">Unos razvoja deteta</router-link>\n      <router-link v-if=\"authStore.isAuthenticated && childId\" :to=\"`/child-development-list/${childId}`\">Pregled razvoja</router-link>\n      <router-link v-if=\"authStore.isAuthenticated && childId\" :to=\"`/child-overview/${childId}`\">Pregled sve Djece</router-link>\n\n      <router-link v-if=\"!authStore.isAuthenticated\" to=\"/login\">Prijavite se</router-link>\n      <router-link v-if=\"!authStore.isAuthenticated\" to=\"/\">Registrujte se</router-link>\n\n      <button v-if=\"authStore.isAuthenticated\" @click=\"logout\" class=\"logout-btn\">Odjavi se</button>\n    </nav>\n\n    <router-view />\n  </div>\n</template>\n\n<script>\nimport { useAuthStore } from './stores/authStore';  \nimport { useRouter } from 'vue-router';  \n\nexport default {\n  setup() {\n    const authStore = useAuthStore();\n    const router = useRouter();\n    authStore.checkAuth();  // Check if the user is authenticated\n\n    // Retrieve childId from localStorage if available\n    const childId = localStorage.getItem('childId');\n\n    // Ensure we have a valid childId\n    if (!childId) {\n      console.log('No childId found in localStorage');\n    }\n\n    const logout = () => {\n      authStore.logout();\n      router.push('/login');\n    };\n\n    return { authStore, logout, childId };  // Ensure childId is available in the template\n  }\n};\n</script>\n\n\n\n\n<style scoped>\n\nnav {\n  margin-bottom: 20px;\n}\n\nnav a {\n  margin-right: 10px;\n  text-decoration: none;\n  color: #007bff;\n}\n\nnav a:hover {\n  text-decoration: underline;\n}\n\n.logout-btn {\n  padding: 8px 16px;\n  background-color: #690aa8;  \n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 16px;\n  transition: background-color 0.3s, transform 0.3s;\n  margin-left: 20px;\n}\n\n.logout-btn:hover {\n  background-color: #250891;  \n  transform: scale(1.05);  \n}\n\n.logout-btn:focus {\n  outline: none;\n}\n</style>\n"],"mappings":";AAwBA,SAASA,YAAW,QAAS,oBAAoB;AACjD,SAASC,SAAQ,QAAS,YAAY;AAEtC,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,SAAQ,GAAIH,YAAY,CAAC,CAAC;IAChC,MAAMI,MAAK,GAAIH,SAAS,CAAC,CAAC;IAC1BE,SAAS,CAACE,SAAS,CAAC,CAAC,EAAG;;IAExB;IACA,MAAMC,OAAM,GAAIC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;;IAE/C;IACA,IAAI,CAACF,OAAO,EAAE;MACZG,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;IACjD;IAEA,MAAMC,MAAK,GAAIA,CAAA,KAAM;MACnBR,SAAS,CAACQ,MAAM,CAAC,CAAC;MAClBP,MAAM,CAACQ,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAED,OAAO;MAAET,SAAS;MAAEQ,MAAM;MAAEL;IAAQ,CAAC,EAAG;EAC1C;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}