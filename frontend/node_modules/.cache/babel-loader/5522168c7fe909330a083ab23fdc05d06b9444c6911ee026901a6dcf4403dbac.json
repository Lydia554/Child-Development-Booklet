{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"development-container\"\n};\nconst _hoisted_2 = {\n  class: \"period-selector\"\n};\nconst _hoisted_3 = {\n  class: \"periods-list\"\n};\nconst _hoisted_4 = [\"onClick\", \"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"h2\", null, \"Praƒáenje Razvoja za \" + _toDisplayString($data.childName || \"Nepoznato dete\"), 1), _createElementVNode(\"div\", _hoisted_2, [_cache[0] || (_cache[0] = _createElementVNode(\"h3\", null, \"Izaberite period:\", -1)), _createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.availablePeriods, period => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: `${period.start}-${period.end}`,\n      class: _normalizeClass($options.getPeriodClass(period)),\n      onClick: $event => $options.selectPeriod(period),\n      disabled: $options.isFuturePeriod(period)\n    }, _toDisplayString($options.formatPeriod(period.start, period.end)), 11, _hoisted_4);\n  }), 128))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","$data","childName","_hoisted_2","_hoisted_3","_Fragment","_renderList","availablePeriods","period","key","start","end","_normalizeClass","$options","getPeriodClass","onClick","$event","selectPeriod","disabled","isFuturePeriod","formatPeriod","_hoisted_4"],"sources":["C:\\Users\\goldb\\Pro\\Child-Development-Booklet\\frontend\\src\\components\\ChildDevelopmentPeriod.vue"],"sourcesContent":["<template>\r\n  <div class=\"development-container\">\r\n    <h2>Praƒáenje Razvoja za {{ childName || \"Nepoznato dete\" }}</h2>\r\n\r\n    <!-- Period Selector -->\r\n    <div class=\"period-selector\">\r\n      <h3>Izaberite period:</h3>\r\n      <div class=\"periods-list\">\r\n        <button v-for=\"period in availablePeriods\"\r\n                :key=\"`${period.start}-${period.end}`\"\r\n                :class=\"getPeriodClass(period)\"\r\n                @click=\"selectPeriod(period)\"\r\n                :disabled=\"isFuturePeriod(period)\">\r\n          {{ formatPeriod(period.start, period.end) }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  emits: [\"period-selected\"], \r\n\r\n  data() {\r\n    return {\r\n      childName: null,\r\n      childAge: null,\r\n      availablePeriods: [],\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    async fetchChildData(childId) {\r\n      try {\r\n        const token = sessionStorage.getItem(\"token\");\r\n        const response = await axios.get(\r\n          `https://child-development-backend.fly.dev/api/${childId}`,\r\n          { headers: { Authorization: `Bearer ${token}` } }\r\n        );\r\n        this.childName = response.data.name;\r\n        this.childAge = this.calculateAgeInMonths(response.data.birthDate);\r\n        this.generateAvailablePeriods();\r\n      } catch (error) {\r\n        console.error(\"‚ùå Gre≈°ka pri dobijanju podataka o detetu:\", error);\r\n      }\r\n    },\r\n\r\n    calculateAgeInMonths(birthDate) {\r\n      const birth = new Date(birthDate);\r\n      const now = new Date();\r\n      return (now.getFullYear() - birth.getFullYear()) * 12 + (now.getMonth() - birth.getMonth());\r\n    },\r\n\r\n    generateAvailablePeriods() {\r\n      if (this.childAge === null) return;\r\n\r\n      this.availablePeriods = [];\r\n      for (let i = 0; i <= 72; i += 6) {\r\n        this.availablePeriods.push({ start: i, end: i + 6 });\r\n      }\r\n    },\r\n\r\n    selectPeriod(period) {\r\n      \r\n      if (process.env.NODE_ENV !== 'production') {\r\n        console.log(\"üîµ Selected Period:\", period);\r\n      }\r\n      this.$emit(\"period-selected\", period);\r\n    },\r\n\r\n    formatPeriod(start, end) {\r\n      return `${start}-${end} meseci`;\r\n    },\r\n\r\n    getPeriodClass(period) {\r\n      \r\n      if (process.env.NODE_ENV !== 'production') {\r\n        console.log(\"üîç Checking Class for:\", period);\r\n      }\r\n      if (this.isCurrentPeriod(period)) return \"period-button current\";\r\n      if (this.isFilledPeriod(period)) return \"period-button filled\";\r\n      if (this.isFuturePeriod(period)) return \"period-button future\";\r\n      return \"period-button past\";\r\n    },\r\n\r\n    isCurrentPeriod(period) {\r\n      return this.childAge >= period.start && this.childAge < period.end;\r\n    },\r\n\r\n    isFilledPeriod(period) {\r\n      return this.childAge >= period.end;\r\n    },\r\n\r\n    isFuturePeriod(period) {\r\n      return this.childAge < period.start;\r\n    }\r\n  },\r\n\r\n  async created() {\r\n    const childId = this.$route.params.childId;\r\n    if (childId) {\r\n      await this.fetchChildData(childId);\r\n    }\r\n  }\r\n};\r\n</script>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAuB;;EAI3BA,KAAK,EAAC;AAAiB;;EAErBA,KAAK,EAAC;AAAc;mBAP/B;;uBACEC,mBAAA,CAgBM,OAhBNC,UAgBM,GAfJC,mBAAA,CAAgE,YAA5D,sBAAoB,GAAAC,gBAAA,CAAGC,KAAA,CAAAC,SAAS,2BAGpCH,mBAAA,CAWM,OAXNI,UAWM,G,0BAVJJ,mBAAA,CAA0B,YAAtB,mBAAiB,QACrBA,mBAAA,CAQM,OARNK,UAQM,I,kBAPJP,mBAAA,CAMSQ,SAAA,QAdjBC,WAAA,CAQiCL,KAAA,CAAAM,gBAAgB,EAA1BC,MAAM;yBAArBX,mBAAA,CAMS;MALAY,GAAG,KAAKD,MAAM,CAACE,KAAK,IAAIF,MAAM,CAACG,GAAG;MAClCf,KAAK,EAVtBgB,eAAA,CAUwBC,QAAA,CAAAC,cAAc,CAACN,MAAM;MAC5BO,OAAK,EAAAC,MAAA,IAAEH,QAAA,CAAAI,YAAY,CAACT,MAAM;MAC1BU,QAAQ,EAAEL,QAAA,CAAAM,cAAc,CAACX,MAAM;wBACnCK,QAAA,CAAAO,YAAY,CAACZ,MAAM,CAACE,KAAK,EAAEF,MAAM,CAACG,GAAG,QAblDU,UAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}