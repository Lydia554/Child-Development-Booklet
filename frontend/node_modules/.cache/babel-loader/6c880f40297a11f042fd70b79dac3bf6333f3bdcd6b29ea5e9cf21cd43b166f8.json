{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, createVNode as _createVNode } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"nav\", null, [$setup.authStore.isAuthenticated ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 0,\n    to: `/child-registration`\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"Registracija deteta\")])),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), $setup.authStore.isAuthenticated && $setup.childId ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 1,\n    to: `/milestone-form/${$setup.childId}`\n  }, {\n    default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\"Dodaj Milestone\")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])) : _createCommentVNode(\"v-if\", true), $setup.authStore.isAuthenticated && $setup.childId ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 2,\n    to: `/milestone-list/${$setup.childId}`\n  }, {\n    default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"Pregled Milestone-a\")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])) : _createCommentVNode(\"v-if\", true), $setup.authStore.isAuthenticated && $setup.childId ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 3,\n    to: `/child-development-form/${$setup.childId}`\n  }, {\n    default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"Unos razvoja deteta\")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])) : _createCommentVNode(\"v-if\", true), $setup.authStore.isAuthenticated && $setup.childId ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 4,\n    to: `/child-development-list/${$setup.childId}`\n  }, {\n    default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\"Pregled razvoja\")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])) : _createCommentVNode(\"v-if\", true), $setup.authStore.isAuthenticated && $setup.childId ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 5,\n    to: `/child-overview/${$setup.childId}`\n  }, {\n    default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\"Pregled sve Djece\")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])) : _createCommentVNode(\"v-if\", true), !$setup.authStore.isAuthenticated ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 6,\n    to: \"/login\"\n  }, {\n    default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"Prijavite se\")])),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), !$setup.authStore.isAuthenticated ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 7,\n    to: \"/\"\n  }, {\n    default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\"Registrujte se\")])),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), $setup.authStore.isAuthenticated ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 8,\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.logout && $setup.logout(...args)),\n    class: \"logout-btn\"\n  }, \"Odjavi se\")) : _createCommentVNode(\"v-if\", true)]), _createVNode(_component_router_view)]);\n}","map":{"version":3,"names":["_createElementBlock","_createElementVNode","$setup","authStore","isAuthenticated","_createBlock","_component_router_link","key","to","default","_withCtx","_cache","_createTextVNode","_","_createCommentVNode","childId","onClick","args","logout","class","_createVNode","_component_router_view"],"sources":["C:\\Users\\goldb\\Pro\\Project\\basic-booklet\\frontend\\src\\App.vue"],"sourcesContent":["<template>\n  <div>\n    <nav>\n      <router-link v-if=\"authStore.isAuthenticated\" :to=\"`/child-registration`\">Registracija deteta</router-link>\n      <router-link v-if=\"authStore.isAuthenticated && childId\" :to=\"`/milestone-form/${childId}`\">Dodaj Milestone</router-link>\n      <router-link v-if=\"authStore.isAuthenticated && childId\" :to=\"`/milestone-list/${childId}`\">Pregled Milestone-a</router-link>\n      <router-link v-if=\"authStore.isAuthenticated && childId\" :to=\"`/child-development-form/${childId}`\">Unos razvoja deteta</router-link>\n      <router-link v-if=\"authStore.isAuthenticated && childId\" :to=\"`/child-development-list/${childId}`\">Pregled razvoja</router-link>\n      <router-link v-if=\"authStore.isAuthenticated && childId\" :to=\"`/child-overview/${childId}`\">Pregled sve Djece</router-link>\n      <router-link v-if=\"!authStore.isAuthenticated\" to=\"/login\">Prijavite se</router-link>\n      <router-link v-if=\"!authStore.isAuthenticated\" to=\"/\">Registrujte se</router-link>\n      <button v-if=\"authStore.isAuthenticated\" @click=\"logout\" class=\"logout-btn\">Odjavi se</button>\n    </nav>\n    <router-view />\n  </div>\n</template>\n\n<script>\nimport { useAuthStore } from './stores/authStore';  \nimport { useRouter } from 'vue-router';  \n\nexport default {\n  setup() {\n    const authStore = useAuthStore();\n    const router = useRouter();\n    authStore.checkAuth();  // Check if the user is authenticated\n\n    // Use sessionStorage instead of localStorage\n    const childId = sessionStorage.getItem('childId');\n    if (!childId) {\n      console.log('No childId found in sessionStorage');\n    }\n\n    const logout = () => {\n      sessionStorage.removeItem('childId'); \n      sessionStorage.removeItem('childrenIds');\n      authStore.logout();\n      router.push('/login');\n    };\n\n    return { authStore, logout, childId };  \n  }\n};\n</script>\n\n\n\n<style scoped>\n\nnav {\n  margin-bottom: 20px;\n}\n\nnav a {\n  margin-right: 10px;\n  text-decoration: none;\n  color: #007bff;\n}\n\nnav a:hover {\n  text-decoration: underline;\n}\n\n.logout-btn {\n  padding: 8px 16px;\n  background-color: #690aa8;  \n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 16px;\n  transition: background-color 0.3s, transform 0.3s;\n  margin-left: 20px;\n}\n\n.logout-btn:hover {\n  background-color: #250891;  \n  transform: scale(1.05);  \n}\n\n.logout-btn:focus {\n  outline: none;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}