{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, Fragment as _Fragment, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"dashboard-container\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  class: \"error-message\"\n};\nconst _hoisted_4 = {\n  class: \"dashboard-links\"\n};\nconst _hoisted_5 = {\n  class: \"links-grid\"\n};\nconst _hoisted_6 = {\n  class: \"development-periods\"\n};\nconst _hoisted_7 = {\n  class: \"period-links\"\n};\nconst _hoisted_8 = {\n  class: \"overview-link\"\n};\nconst _hoisted_9 = {\n  class: \"error-message\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[11] || (_cache[11] = _createElementVNode(\"h2\", null, \"Dobrodo≈°li na Dashboard\", -1 /* HOISTED */)), _createCommentVNode(\" Loading State \"), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \"Loading...\")) : $data.errorMessage ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Error Handling \"), _createElementVNode(\"div\", _hoisted_3, _toDisplayString($data.errorMessage), 1 /* TEXT */)], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : $data.currentChild ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 2\n  }, [_createCommentVNode(\" Main Content (Only if Child Exists) \"), _createElementVNode(\"div\", null, [_createElementVNode(\"h3\", null, \"Opcije za dete: \" + _toDisplayString($data.currentChild.name), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_router_link, {\n    to: `/milestone-form/${$data.currentChild._id}`,\n    class: \"dashboard-link\"\n  }, {\n    default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\" Dodaj Kljucni Momenat \")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"]), _createVNode(_component_router_link, {\n    to: `/milestone-list/${$data.currentChild._id}`,\n    class: \"dashboard-link\"\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\" Pregled Kljucnog Momenta \")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"]), _createVNode(_component_router_link, {\n    to: `/child-development-form/${$data.currentChild._id}`,\n    class: \"dashboard-link\"\n  }, {\n    default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\" Unos razvoja deteta \")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"]), _createVNode(_component_router_link, {\n    to: `/child-development-list/${$data.currentChild._id}`,\n    class: \"dashboard-link\"\n  }, {\n    default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\" Pregled razvoja \")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])])]), _createCommentVNode(\" Development Period Links \"), _createElementVNode(\"div\", _hoisted_6, [_cache[7] || (_cache[7] = _createElementVNode(\"h4\", null, \"Periodi razvoja:\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_router_link, {\n    to: `/child-development/${$data.currentChild._id}/0`,\n    class: \"period-link\"\n  }, {\n    default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\" 0-6 meseci \")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"]), _createVNode(_component_router_link, {\n    to: `/child-development/${$data.currentChild._id}/6`,\n    class: \"period-link\"\n  }, {\n    default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\" 6-12 meseci \")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"]), _createVNode(_component_router_link, {\n    to: `/child-development/${$data.currentChild._id}/12`,\n    class: \"period-link\"\n  }, {\n    default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\" 12-18 meseci \")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])])]), _createCommentVNode(\" Overview Link \"), _createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_router_link, {\n    to: `/child-overview/${$data.currentChild._id}`,\n    class: \"dashboard-link\"\n  }, {\n    default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\" Pregled sve Djece \")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 3\n  }, [_createCommentVNode(\" No Child Found \"), _createElementVNode(\"div\", _hoisted_9, [_cache[10] || (_cache[10] = _createElementVNode(\"p\", null, \"Nema podataka o detetu. Molimo proverite unos ili registrujte dete.\", -1 /* HOISTED */)), _createVNode(_component_router_link, {\n    to: \"/child-registration\",\n    class: \"dashboard-link\"\n  }, {\n    default: _withCtx(() => _cache[9] || (_cache[9] = [_createTextVNode(\" Registruj Dete \")])),\n    _: 1 /* STABLE */\n  })])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","$data","loading","_hoisted_2","errorMessage","_Fragment","_hoisted_3","_toDisplayString","currentChild","name","_hoisted_4","_hoisted_5","_createVNode","_component_router_link","to","_id","default","_withCtx","_cache","_createTextVNode","_","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9"],"sources":["C:\\Users\\goldb\\Pro\\Project\\basic-booklet\\frontend\\src\\views\\DashboardPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <h2>Dobrodo≈°li na Dashboard</h2>\r\n\r\n    <!-- Loading State -->\r\n    <div v-if=\"loading\">Loading...</div>\r\n\r\n    <!-- Error Handling -->\r\n    <div v-else-if=\"errorMessage\" class=\"error-message\">\r\n      {{ errorMessage }}\r\n    </div>\r\n\r\n    <!-- Main Content (Only if Child Exists) -->\r\n    <div v-else-if=\"currentChild\">\r\n      <h3>Opcije za dete: {{ currentChild.name }}</h3>\r\n\r\n      <div class=\"dashboard-links\">\r\n        <div class=\"links-grid\">\r\n          <router-link :to=\"`/milestone-form/${currentChild._id}`\" class=\"dashboard-link\">\r\n            Dodaj Kljucni Momenat\r\n          </router-link>\r\n          <router-link :to=\"`/milestone-list/${currentChild._id}`\" class=\"dashboard-link\">\r\n            Pregled Kljucnog Momenta\r\n          </router-link>\r\n          <router-link :to=\"`/child-development-form/${currentChild._id}`\" class=\"dashboard-link\">\r\n            Unos razvoja deteta\r\n          </router-link>\r\n          <router-link :to=\"`/child-development-list/${currentChild._id}`\" class=\"dashboard-link\">\r\n            Pregled razvoja\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Development Period Links -->\r\n      <div class=\"development-periods\">\r\n        <h4>Periodi razvoja:</h4>\r\n        <div class=\"period-links\">\r\n          <router-link :to=\"`/child-development/${currentChild._id}/0`\" class=\"period-link\">\r\n            0-6 meseci\r\n          </router-link>\r\n          <router-link :to=\"`/child-development/${currentChild._id}/6`\" class=\"period-link\">\r\n            6-12 meseci\r\n          </router-link>\r\n          <router-link :to=\"`/child-development/${currentChild._id}/12`\" class=\"period-link\">\r\n            12-18 meseci\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Overview Link -->\r\n      <div class=\"overview-link\">\r\n        <router-link :to=\"`/child-overview/${currentChild._id}`\" class=\"dashboard-link\">\r\n          Pregled sve Djece\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- No Child Found -->\r\n    <div v-else class=\"error-message\">\r\n      <p>Nema podataka o detetu. Molimo proverite unos ili registrujte dete.</p>\r\n      <router-link to=\"/child-registration\" class=\"dashboard-link\">\r\n        Registruj Dete\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useAuthStore } from '@/stores/authStore';\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      currentChild: null,\r\n      errorMessage: '',\r\n    };\r\n  },\r\n  async created() {\r\n    await this.fetchCurrentChild();\r\n  },\r\n  methods: {\r\n    async fetchCurrentChild() {\r\n      try {\r\n        const authStore = useAuthStore();\r\n        let childId = authStore.childId || localStorage.getItem('childId');\r\n\r\n        console.log(\"üîç Fetching child data for ID:\", childId);\r\n\r\n        if (!childId || childId.length !== 24) {\r\n          console.warn(\"‚ö†Ô∏è Invalid or missing childId. Redirecting to registration.\");\r\n          this.errorMessage = \"Nema registrovanog deteta. Molimo registrujte dete.\";\r\n          return;\r\n        }\r\n\r\n        const response = await axios.get(`http://localhost:5000/api/child/${childId}`, {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`\r\n          }\r\n        });\r\n\r\n        if (response.data) {\r\n          this.currentChild = response.data;\r\n        } else {\r\n          this.errorMessage = \"Podaci o detetu nisu pronaƒëeni.\";\r\n        }\r\n      } catch (error) {\r\n        console.error(\"‚ùå Error fetching child data:\", error);\r\n        this.errorMessage = \"Gre≈°ka prilikom uƒçitavanja podataka. Poku≈°ajte ponovo.\";\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Styling remains the same */\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}