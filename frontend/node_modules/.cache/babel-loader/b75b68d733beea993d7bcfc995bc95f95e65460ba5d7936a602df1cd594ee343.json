{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useAuthStore } from './stores/authStore';\nimport { useRouter, useRoute } from 'vue-router';\nimport { computed } from 'vue';\nexport default {\n  setup() {\n    const authStore = useAuthStore();\n    const router = useRouter();\n    const route = useRoute();\n    const childId = computed(() => authStore.childId || sessionStorage.getItem('childId'));\n    const hasChild = computed(() => !!childId.value);\n    const isDashboard = computed(() => route.name === 'dashboard');\n    const showNavigation = computed(() => {\n      if (route.name === 'login' || route.name === 'signup') {\n        return false;\n      }\n      if (route.name === 'dashboard') {\n        return true;\n      }\n      return authStore.isAuthenticated && hasChild.value;\n    });\n    const logout = () => {\n      authStore.logout();\n      sessionStorage.removeItem('token');\n      sessionStorage.removeItem('childId');\n      router.push('/login');\n    };\n    authStore.checkAuth();\n    return {\n      authStore,\n      logout,\n      childId,\n      hasChild,\n      isDashboard,\n      showNavigation\n    };\n  }\n};","map":{"version":3,"names":["useAuthStore","useRouter","useRoute","computed","setup","authStore","router","route","childId","sessionStorage","getItem","hasChild","value","isDashboard","name","showNavigation","isAuthenticated","logout","removeItem","push","checkAuth"],"sources":["C:\\Users\\goldb\\Pro\\Project\\basic-booklet\\frontend\\src\\App.vue"],"sourcesContent":["<template>\n  <div>\n    <nav v-if=\"showNavigation\">\n      <!-- Dashboard link when authenticated -->\n      <router-link v-if=\"authStore.isAuthenticated\" to=\"/dashboard\"\n      >Dashboard</router-link>\n\n      <!-- Child registration only if no child -->\n      <router-link \n        v-if=\"authStore.isAuthenticated && !hasChild\" \n        to=\"/child-registration\"\n      >Registracija deteta</router-link>\n      \n      <!-- Other links only if has child and not on dashboard -->\n      <template v-if=\"authStore.isAuthenticated && hasChild && !isDashboard\">\n        <router-link :to=\"`/milestone-form/${childId}`\">Dodaj Kljucni Momenta</router-link>\n        <router-link :to=\"`/milestone-list/${childId}`\">Pregled Kljucnog Momenta</router-link>\n        <router-link :to=\"`/child-development-form/${childId}`\">Unos razvoja deteta</router-link>\n        <router-link :to=\"`/child-development-list/${childId}`\">Pregled razvoja</router-link>\n        <router-link :to=\"`/child-overview/${childId}`\">Pregled sve Djece</router-link>\n      </template>\n\n      <!-- Auth links -->\n      <router-link v-if=\"!authStore.isAuthenticated\" to=\"/login\">Prijavite se</router-link>\n      <router-link v-if=\"!authStore.isAuthenticated\" to=\"/\">Registrujte se</router-link>\n\n      <button v-if=\"authStore.isAuthenticated\" @click=\"logout\" class=\"logout-btn\">Odjavi se</button>\n    </nav>\n\n    <router-view />\n  </div>\n</template>\n\n<script>\nimport { useAuthStore } from './stores/authStore';\nimport { useRouter, useRoute } from 'vue-router';\nimport { computed } from 'vue';\n\nexport default {\n  setup() {\n    const authStore = useAuthStore();\n    const router = useRouter();\n    const route = useRoute();\n\n    const childId = computed(() => authStore.childId || sessionStorage.getItem('childId'));\n    const hasChild = computed(() => !!childId.value);\n    \n  \n    const isDashboard = computed(() => route.name === 'dashboard');\n\n \n    const showNavigation = computed(() => {\n      \n      if (route.name === 'login' || route.name === 'signup') {\n        return false;\n      }\n   \n      if (route.name === 'dashboard') {\n        return true;\n      }\n      \n    \n      return authStore.isAuthenticated && hasChild.value;\n    });\n\n    const logout = () => {\n      authStore.logout();\n      sessionStorage.removeItem('token');\n      sessionStorage.removeItem('childId');\n      router.push('/login');\n    };\n\n   \n    authStore.checkAuth();\n\n    return { \n      authStore, \n      logout,\n      childId,\n      hasChild,\n      isDashboard,\n      showNavigation\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n$primary-color: #007bff;\n$hover-primary: #0056b3;\n$background-light: #f8f9fa;\n$border-color: #dee2e6;\n$logout-bg: #690aa8;\n$logout-hover: #250891;\n$text-color: white;\n\nnav {\n  margin-bottom: 20px;\n  padding: 15px;\n  background-color: $background-light;\n  border-bottom: 1px solid $border-color;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-wrap: wrap;\n\n  a {\n    margin-right: 15px;\n    text-decoration: none;\n    color: $primary-color;\n    padding: 8px 14px;\n    border-radius: 5px;\n    font-size: 1rem;\n    transition: background 0.3s ease, color 0.3s ease;\n\n    &:hover {\n      background-color: $primary-color;\n      color: $text-color;\n    }\n\n    &.router-link-active {\n      background-color: $primary-color;\n      color: $text-color;\n      font-weight: bold;\n    }\n  }\n}\n\n.logout-btn {\n  padding: 10px 18px;\n  background-color: $logout-bg;\n  color: $text-color;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: background 0.3s ease, transform 0.2s ease;\n\n  &:hover {\n    background-color: $logout-hover;\n    transform: scale(1.05);\n  }\n\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 8px rgba(105, 10, 168, 0.5);\n  }\n}\n\n/* ðŸ“± Mobile Styles: Optimized for Phones */\n@media (max-width: 768px) {\n  nav {\n    flex-direction: column;\n    align-items: flex-start;\n    padding: 12px;\n  }\n\n  nav a {\n    display: block;\n    margin: 5px 0;\n    font-size: 0.95rem;\n  }\n\n  .logout-btn {\n    width: 100%;\n    text-align: center;\n    font-size: 1rem;\n    padding: 12px;\n    margin-top: 10px;\n  }\n}\n\n/* ðŸ“± Extra Small Mobile Screens (Max 480px) */\n@media (max-width: 480px) {\n  nav {\n    padding: 10px;\n  }\n\n  nav a {\n    font-size: 0.9rem;\n    padding: 6px 12px;\n  }\n\n  .logout-btn {\n    font-size: 0.95rem;\n    padding: 10px;\n  }\n}\n\n/* ðŸ“± Ultra-Small Mobile Screens (Max 360px) */\n@media (max-width: 360px) {\n  nav {\n    padding: 8px;\n  }\n\n  nav a {\n    font-size: 0.85rem;\n    padding: 6px 10px;\n  }\n\n  .logout-btn {\n    font-size: 0.9rem;\n    padding: 10px;\n  }\n}\n</style>"],"mappings":";AAkCA,SAASA,YAAW,QAAS,oBAAoB;AACjD,SAASC,SAAS,EAAEC,QAAO,QAAS,YAAY;AAChD,SAASC,QAAO,QAAS,KAAK;AAE9B,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,SAAQ,GAAIL,YAAY,CAAC,CAAC;IAChC,MAAMM,MAAK,GAAIL,SAAS,CAAC,CAAC;IAC1B,MAAMM,KAAI,GAAIL,QAAQ,CAAC,CAAC;IAExB,MAAMM,OAAM,GAAIL,QAAQ,CAAC,MAAME,SAAS,CAACG,OAAM,IAAKC,cAAc,CAACC,OAAO,CAAC,SAAS,CAAC,CAAC;IACtF,MAAMC,QAAO,GAAIR,QAAQ,CAAC,MAAM,CAAC,CAACK,OAAO,CAACI,KAAK,CAAC;IAGhD,MAAMC,WAAU,GAAIV,QAAQ,CAAC,MAAMI,KAAK,CAACO,IAAG,KAAM,WAAW,CAAC;IAG9D,MAAMC,cAAa,GAAIZ,QAAQ,CAAC,MAAM;MAEpC,IAAII,KAAK,CAACO,IAAG,KAAM,OAAM,IAAKP,KAAK,CAACO,IAAG,KAAM,QAAQ,EAAE;QACrD,OAAO,KAAK;MACd;MAEA,IAAIP,KAAK,CAACO,IAAG,KAAM,WAAW,EAAE;QAC9B,OAAO,IAAI;MACb;MAGA,OAAOT,SAAS,CAACW,eAAc,IAAKL,QAAQ,CAACC,KAAK;IACpD,CAAC,CAAC;IAEF,MAAMK,MAAK,GAAIA,CAAA,KAAM;MACnBZ,SAAS,CAACY,MAAM,CAAC,CAAC;MAClBR,cAAc,CAACS,UAAU,CAAC,OAAO,CAAC;MAClCT,cAAc,CAACS,UAAU,CAAC,SAAS,CAAC;MACpCZ,MAAM,CAACa,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAGDd,SAAS,CAACe,SAAS,CAAC,CAAC;IAErB,OAAO;MACLf,SAAS;MACTY,MAAM;MACNT,OAAO;MACPG,QAAQ;MACRE,WAAW;MACXE;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}