{"ast":null,"code":"import { defineStore } from 'pinia';\nexport const useAuthStore = defineStore('auth', {\n  state: () => ({\n    isAuthenticated: false,\n    childId: null // Dodajemo childId\n  }),\n  actions: {\n    login(token, childId) {\n      this.isAuthenticated = true;\n      sessionStorage.setItem('token', token);\n      sessionStorage.setItem('childId', childId); // Spremamo childId\n      this.childId = childId; // Ažuriramo childId u store-u\n    },\n    logout() {\n      this.isAuthenticated = false;\n      this.childId = null; // Resetujemo childId\n      sessionStorage.removeItem('token');\n      sessionStorage.removeItem('childId'); // Brišemo childId iz sessionStorage\n    },\n    checkAuth() {\n      const token = sessionStorage.getItem('token');\n      this.isAuthenticated = !!token;\n      const childId = sessionStorage.getItem('childId');\n      this.childId = childId || null; // Ažuriramo childId u store-u\n    },\n    setChildId(childId) {\n      this.childId = childId;\n      sessionStorage.setItem('childId', childId); // Dodajemo childId u sessionStorage\n    }\n  }\n});","map":{"version":3,"names":["defineStore","useAuthStore","state","isAuthenticated","childId","actions","login","token","sessionStorage","setItem","logout","removeItem","checkAuth","getItem","setChildId"],"sources":["C:/Users/goldb/Pro/Project/basic-booklet/frontend/src/stores/authStore.js"],"sourcesContent":["import { defineStore } from 'pinia';\r\n\r\nexport const useAuthStore = defineStore('auth', {\r\n  state: () => ({\r\n    isAuthenticated: false, \r\n    childId: null, // Dodajemo childId\r\n  }),\r\n\r\n  actions: {\r\n    login(token, childId) {\r\n      this.isAuthenticated = true;\r\n      sessionStorage.setItem('token', token); \r\n      sessionStorage.setItem('childId', childId); // Spremamo childId\r\n      this.childId = childId; // Ažuriramo childId u store-u\r\n    },\r\n\r\n    logout() {\r\n      this.isAuthenticated = false;\r\n      this.childId = null; // Resetujemo childId\r\n      sessionStorage.removeItem('token'); \r\n      sessionStorage.removeItem('childId'); // Brišemo childId iz sessionStorage\r\n    },\r\n\r\n    checkAuth() {\r\n      const token = sessionStorage.getItem('token');\r\n      this.isAuthenticated = !!token;\r\n      const childId = sessionStorage.getItem('childId');\r\n      this.childId = childId || null; // Ažuriramo childId u store-u\r\n    },\r\n\r\n    setChildId(childId) {\r\n      this.childId = childId;\r\n      sessionStorage.setItem('childId', childId); // Dodajemo childId u sessionStorage\r\n    }\r\n  }\r\n});\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AAEnC,OAAO,MAAMC,YAAY,GAAGD,WAAW,CAAC,MAAM,EAAE;EAC9CE,KAAK,EAAEA,CAAA,MAAO;IACZC,eAAe,EAAE,KAAK;IACtBC,OAAO,EAAE,IAAI,CAAE;EACjB,CAAC,CAAC;EAEFC,OAAO,EAAE;IACPC,KAAKA,CAACC,KAAK,EAAEH,OAAO,EAAE;MACpB,IAAI,CAACD,eAAe,GAAG,IAAI;MAC3BK,cAAc,CAACC,OAAO,CAAC,OAAO,EAAEF,KAAK,CAAC;MACtCC,cAAc,CAACC,OAAO,CAAC,SAAS,EAAEL,OAAO,CAAC,CAAC,CAAC;MAC5C,IAAI,CAACA,OAAO,GAAGA,OAAO,CAAC,CAAC;IAC1B,CAAC;IAEDM,MAAMA,CAAA,EAAG;MACP,IAAI,CAACP,eAAe,GAAG,KAAK;MAC5B,IAAI,CAACC,OAAO,GAAG,IAAI,CAAC,CAAC;MACrBI,cAAc,CAACG,UAAU,CAAC,OAAO,CAAC;MAClCH,cAAc,CAACG,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC;IACxC,CAAC;IAEDC,SAASA,CAAA,EAAG;MACV,MAAML,KAAK,GAAGC,cAAc,CAACK,OAAO,CAAC,OAAO,CAAC;MAC7C,IAAI,CAACV,eAAe,GAAG,CAAC,CAACI,KAAK;MAC9B,MAAMH,OAAO,GAAGI,cAAc,CAACK,OAAO,CAAC,SAAS,CAAC;MACjD,IAAI,CAACT,OAAO,GAAGA,OAAO,IAAI,IAAI,CAAC,CAAC;IAClC,CAAC;IAEDU,UAAUA,CAACV,OAAO,EAAE;MAClB,IAAI,CAACA,OAAO,GAAGA,OAAO;MACtBI,cAAc,CAACC,OAAO,CAAC,SAAS,EAAEL,OAAO,CAAC,CAAC,CAAC;IAC9C;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}