{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport api from './axios';\nexport default {\n  data() {\n    return {\n      milestoneData: []\n    };\n  },\n  computed: {\n    // Provera da li je korisnik ulogovan na osnovu tokena\n    isAuthenticated() {\n      // Uzimanje tokena iz localStorage\n      const token = localStorage.getItem('token');\n\n      // Ako token postoji i nije istekao (po isteku se može dodati logika za proveru vremena)\n      return token ? true : false;\n    }\n  },\n  created() {\n    this.fetchMilestoneData();\n  },\n  methods: {\n    // Funkcija za dobijanje podataka sa backend-a\n    async fetchMilestoneData() {\n      try {\n        const response = await api.get('/milestones');\n        this.milestoneData = response.data; // Spremanje podataka u milestoneData\n      } catch (error) {\n        console.error('Greška prilikom dobijanja podataka:', error);\n      }\n    },\n    // Funkcija za log out\n    logout() {\n      localStorage.removeItem('token'); // Brišemo token\n      this.$router.push('/login'); // Preusmeravamo korisnika na login\n    }\n  }\n};","map":{"version":3,"names":["api","data","milestoneData","computed","isAuthenticated","token","localStorage","getItem","created","fetchMilestoneData","methods","response","get","error","console","logout","removeItem","$router","push"],"sources":["C:\\Users\\goldb\\Pro\\Project\\basic-booklet\\frontend\\src\\App.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- Navigacija -->\n    <nav>\n      <!-- Prikazivanje linkova samo ako je korisnik ulogovan -->\n      <router-link v-if=\"isAuthenticated\" to=\"/milestone-form\">Dodaj Milestone</router-link> \n      <router-link v-if=\"isAuthenticated\" to=\"/milestone-list\">Pregled Milestone-a</router-link> |\n      <router-link v-if=\"isAuthenticated\" to=\"/child-development-list\">Pregled razvoja</router-link>\n      <router-link v-if=\"isAuthenticated\" to=\"/child-development\">Unesite razvoj deteta</router-link>\n\n      \n      <!-- Prikazivanje linkova za Login i Signup samo ako korisnik nije ulogovan -->\n      <router-link v-if=\"!isAuthenticated\" to=\"/login\">Prijavite se</router-link> |\n      <router-link v-if=\"!isAuthenticated\" to=\"/signup\">Registrujte se</router-link>|\n      \n      <!-- Prikazivanje Log Out linka ako je korisnik ulogovan -->\n      <button v-if=\"isAuthenticated\" @click=\"logout\" class=\"logout-btn\">Odjavi se</button>\n    </nav>\n\n    <!-- Prikazivanje odgovarajuće komponente na osnovu rute -->\n    <router-view />\n  </div>\n</template>\n\n<script>\nimport api from './axios';\n\nexport default {\n  data() {\n    return {\n      milestoneData: [],\n    };\n  },\n  computed: {\n    // Provera da li je korisnik ulogovan na osnovu tokena\n    isAuthenticated() {\n      // Uzimanje tokena iz localStorage\n      const token = localStorage.getItem('token');\n      \n      // Ako token postoji i nije istekao (po isteku se može dodati logika za proveru vremena)\n      return token ? true : false;\n    }\n  },\n  created() {\n    this.fetchMilestoneData(); \n  },\n  methods: {\n    // Funkcija za dobijanje podataka sa backend-a\n    async fetchMilestoneData() {\n      try {\n        const response = await api.get('/milestones');\n        this.milestoneData = response.data; // Spremanje podataka u milestoneData\n      } catch (error) {\n        console.error('Greška prilikom dobijanja podataka:', error);\n      }\n    },\n\n    // Funkcija za log out\n    logout() {\n      localStorage.removeItem('token');  // Brišemo token\n      this.$router.push('/login');  // Preusmeravamo korisnika na login\n    }\n  },\n};\n</script>\n\n<style scoped>\n/* Stilizacija za navigaciju */\nnav {\n  margin-bottom: 20px;\n}\n\nnav a {\n  margin-right: 10px;\n  text-decoration: none;\n  color: #007bff;\n}\n\nnav a:hover {\n  text-decoration: underline;\n}\n\n/* Stilizacija za linkove */\n.logout-btn {\n  padding: 8px 16px;\n  background-color: #ff4d4f;  /* Crvena boja */\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 16px;\n  transition: background-color 0.3s, transform 0.3s;\n  margin-left: 20px;\n}\n\n.logout-btn:hover {\n  background-color: #e63e3d;  /* Tamnija crvena pri hoveru */\n  transform: scale(1.05);  /* Malo povećanje pri hoveru */\n}\n\n.logout-btn:focus {\n  outline: none;\n}\n\nnav a:hover, .logout-btn:hover {\n  text-decoration: none;\n}\n\n</style>\n"],"mappings":";AAyBA,OAAOA,GAAE,MAAO,SAAS;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,aAAa,EAAE;IACjB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACR;IACAC,eAAeA,CAAA,EAAG;MAChB;MACA,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;;MAE3C;MACA,OAAOF,KAAI,GAAI,IAAG,GAAI,KAAK;IAC7B;EACF,CAAC;EACDG,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,kBAAkB,CAAC,CAAC;EAC3B,CAAC;EACDC,OAAO,EAAE;IACP;IACA,MAAMD,kBAAkBA,CAAA,EAAG;MACzB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMX,GAAG,CAACY,GAAG,CAAC,aAAa,CAAC;QAC7C,IAAI,CAACV,aAAY,GAAIS,QAAQ,CAACV,IAAI,EAAE;MACtC,EAAE,OAAOY,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;MAC7D;IACF,CAAC;IAED;IACAE,MAAMA,CAAA,EAAG;MACPT,YAAY,CAACU,UAAU,CAAC,OAAO,CAAC,EAAG;MACnC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC,EAAG;IAChC;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}