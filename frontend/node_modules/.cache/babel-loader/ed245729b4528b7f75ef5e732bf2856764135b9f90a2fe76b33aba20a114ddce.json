{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", null, [$setup.showNavigation ? (_openBlock(), _createElementBlock(\"nav\", _hoisted_1, [$setup.authStore.isAuthenticated ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 0,\n    to: \"/dashboard\"\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"Dashboard\")])),\n    _: 1\n  })) : _createCommentVNode(\"\", true), $setup.authStore.isAuthenticated && !$setup.hasChild ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 1,\n    to: \"/child-registration\"\n  }, {\n    default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\"Registracija deteta\")])),\n    _: 1\n  })) : _createCommentVNode(\"\", true), $setup.authStore.isAuthenticated && $setup.hasChild && !$setup.isDashboard ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 2\n  }, [_createVNode(_component_router_link, {\n    to: `/milestone-form/${$setup.childId}`\n  }, {\n    default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"Dodaj Kljuƒçni Momenat\")])),\n    _: 1\n  }, 8, [\"to\"]), _createVNode(_component_router_link, {\n    to: `/milestone-list/${$setup.childId}`\n  }, {\n    default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"Pregled Kljuƒçnog Momenta\")])),\n    _: 1\n  }, 8, [\"to\"]), _createVNode(_component_router_link, {\n    to: `/child-development-form/${$setup.childId}`\n  }, {\n    default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\"Unos razvoja deteta\")])),\n    _: 1\n  }, 8, [\"to\"]), _createVNode(_component_router_link, {\n    to: `/child-development-list/${$setup.childId}`\n  }, {\n    default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\"Pregled razvoja\")])),\n    _: 1\n  }, 8, [\"to\"]), _createVNode(_component_router_link, {\n    to: `/child-overview/${$setup.childId}`\n  }, {\n    default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"Pregled sve Dece\")])),\n    _: 1\n  }, 8, [\"to\"])], 64)) : _createCommentVNode(\"\", true), !$setup.authStore.isAuthenticated ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 3,\n    to: \"/login\"\n  }, {\n    default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\"Prijavite se\")])),\n    _: 1\n  })) : _createCommentVNode(\"\", true), !$setup.authStore.isAuthenticated ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 4,\n    to: \"/\"\n  }, {\n    default: _withCtx(() => _cache[9] || (_cache[9] = [_createTextVNode(\"Registrujte se\")])),\n    _: 1\n  })) : _createCommentVNode(\"\", true), $setup.authStore.isAuthenticated ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 5,\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.logout && $setup.logout(...args)),\n    class: \"logout-btn\"\n  }, \"Odjavi se\")) : _createCommentVNode(\"\", true)])) : _createCommentVNode(\"\", true), _createVNode(_component_router_view)]);\n}","map":{"version":3,"names":["key","_createElementBlock","$setup","showNavigation","_hoisted_1","authStore","isAuthenticated","_createBlock","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_","_createCommentVNode","hasChild","isDashboard","_Fragment","_createVNode","childId","onClick","args","logout","class","_component_router_view"],"sources":["C:\\Users\\goldb\\Pro\\Child-Development-Booklet\\frontend\\src\\App.vue"],"sourcesContent":["<template>\n  <div>\n    <nav v-if=\"showNavigation\">\n      <!-- Dashboard link when authenticated -->\n      <router-link v-if=\"authStore.isAuthenticated\" to=\"/dashboard\">Dashboard</router-link>\n\n      <!-- Child registration only if no child -->\n      <router-link v-if=\"authStore.isAuthenticated && !hasChild\" to=\"/child-registration\">Registracija deteta</router-link>\n      \n      <!-- Other links only if has child and not on dashboard -->\n      <template v-if=\"authStore.isAuthenticated && hasChild && !isDashboard\">\n        <router-link :to=\"`/milestone-form/${childId}`\">Dodaj Kljuƒçni Momenat</router-link>\n        <router-link :to=\"`/milestone-list/${childId}`\">Pregled Kljuƒçnog Momenta</router-link>\n        <router-link :to=\"`/child-development-form/${childId}`\">Unos razvoja deteta</router-link>\n        <router-link :to=\"`/child-development-list/${childId}`\">Pregled razvoja</router-link>\n        <router-link :to=\"`/child-overview/${childId}`\">Pregled sve Dece</router-link>\n      </template>\n\n      <!-- Auth links -->\n      <router-link v-if=\"!authStore.isAuthenticated\" to=\"/login\">Prijavite se</router-link>\n      <router-link v-if=\"!authStore.isAuthenticated\" to=\"/\">Registrujte se</router-link>\n\n      <button v-if=\"authStore.isAuthenticated\" @click=\"logout\" class=\"logout-btn\">Odjavi se</button>\n    </nav>\n\n    <router-view />\n  </div>\n</template>\n\n<script>\nimport { useAuthStore } from './stores/authStore';\nimport { useRouter, useRoute } from 'vue-router';\nimport { computed } from 'vue';\n\nexport default {\n  setup() {\n    const authStore = useAuthStore();\n    const router = useRouter();\n    const route = useRoute();\n\n    const childId = computed(() => authStore.childId || sessionStorage.getItem('childId'));\n    const hasChild = computed(() => !!childId.value);\n    \n    const isDashboard = computed(() => route.name === 'dashboard');\n\n    const showNavigation = computed(() => {\n      if (route.name === 'login' || route.name === 'signup') {\n        return false;\n      }\n      if (route.name === 'dashboard') {\n        return true;\n      }\n      return authStore.isAuthenticated && hasChild.value;\n    });\n\n    const logout = () => {\n      authStore.logout();\n      sessionStorage.removeItem('token');\n      sessionStorage.removeItem('childId');\n      router.push('/login');\n    };\n\n    authStore.checkAuth();\n\n    return { \n      authStore, \n      logout,\n      childId,\n      hasChild,\n      isDashboard,\n      showNavigation\n    };\n  }\n};\n</script>\n\n\n<style lang=\"scss\" scoped>\n$primary-color: #007bff;\n$hover-primary: #0056b3;\n$background-light: #f8f9fa;\n$border-color: #dee2e6;\n$logout-bg: #690aa8;\n$logout-hover: #250891;\n$text-color: white;\n\nnav {\n  margin-bottom: 20px;\n  padding: 15px;\n  background-color: $background-light;\n  border-bottom: 1px solid $border-color;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-wrap: wrap;\n\n  a {\n    margin-right: 15px;\n    text-decoration: none;\n    color: $primary-color;\n    padding: 8px 14px;\n    border-radius: 5px;\n    font-size: 1rem;\n    transition: background 0.3s ease, color 0.3s ease;\n\n    &:hover {\n      background-color: $primary-color;\n      color: $text-color;\n    }\n\n    &.router-link-active {\n      background-color: $primary-color;\n      color: $text-color;\n      font-weight: bold;\n    }\n  }\n}\n\n.logout-btn {\n  padding: 10px 18px;\n  background-color: $logout-bg;\n  color: $text-color;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: background 0.3s ease, transform 0.2s ease;\n\n  &:hover {\n    background-color: $logout-hover;\n    transform: scale(1.05);\n  }\n\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 8px rgba(105, 10, 168, 0.5);\n  }\n}\n\n/* üì± Mobile Styles: Optimized for Phones */\n@media (max-width: 768px) {\n  nav {\n    flex-direction: column;\n    align-items: flex-start;\n    padding: 12px;\n  }\n\n  nav a {\n    display: block;\n    margin: 5px 0;\n    font-size: 0.95rem;\n  }\n\n  .logout-btn {\n    width: 100%;\n    text-align: center;\n    font-size: 1rem;\n    padding: 12px;\n    margin-top: 10px;\n  }\n}\n\n/* üì± Extra Small Mobile Screens (Max 480px) */\n@media (max-width: 480px) {\n  nav {\n    padding: 10px;\n  }\n\n  nav a {\n    font-size: 0.9rem;\n    padding: 6px 12px;\n  }\n\n  .logout-btn {\n    font-size: 0.95rem;\n    padding: 10px;\n  }\n}\n\n/* üì± Ultra-Small Mobile Screens (Max 360px) */\n@media (max-width: 360px) {\n  nav {\n    padding: 8px;\n  }\n\n  nav a {\n    font-size: 0.85rem;\n    padding: 6px 10px;\n  }\n\n  .logout-btn {\n    font-size: 0.9rem;\n    padding: 10px;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}